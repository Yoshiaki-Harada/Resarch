# 現実を想定したケーススタディ

本章では，より現実を想定したケーススタディを行い，手法I，手法IIの比較を行う．

## 概要

本章ではより現実を想定した状況を再現するため，2,3章より大規模な実験を行う．また様々な企業が存在することを想定し，手法Iには虚偽申告を行う企業を発生させる．手法IIにおいては耐戦略性を満たし，正直な申告が支配戦略となるので，虚偽申告を行う企業は発生しないものとする．提供企業数を変化させ，提供リソース量が多いケース，提供リソースと要求リソース量が同じケース，要求リソース量が多いケースについて実験を行う．実験条件を以下に示す．

+ リソースの種類:$|\boldsymbol{R}|=10$
+ 提供企業$|\boldsymbol{J}|=67,100,150$
  + 各企業2種類のリソースを遊休時間に提供する．
  + 遊休時間$TP_{i,r}$ [Ts]を[100, 200]で決定する．
  + コスト$c_{i,r}$は[2.0, 4.0] [円]とする．
+ 要求企業$|\boldsymbol{I}|=30$
  + 各企業$|\boldsymbol{N}|$=5個の入札を作成する．
  + $|\boldsymbol{R}|$種類のリソースを各 [0, 200] [Ts]要求する．
  + 予算$v_{j,n}$は合計要求時間と重み[3.0, 5.0]の積[円]とする．
+ 施行回数:10回
+ 手法Iの虚偽申告率:提供企業，要求企業はそれぞれ[0, 30]%虚偽申告を行う．

## Case1: 提供リソース量が多いケース

本節では，提供リソース量が多いケースケースの計算機実験を行う．実験条件を以下に示す．

+ 提供企業$|\boldsymbol{J}|=150$
  + 提供リソースの時間:要求リソース時間=6:4
    + ただし要求または提供するリソース量は乱数を用いているので正確にこの比率になってはいない．またこの比率はリソースの合計時間の比率であり，各種類のリソースがこの比率になっているわけではない．

## Case2: 提供リソースと要求リソース量が同じケース

本節では，提供リソースと要求するリソース量が同じケースの計算機実験を行う．実験条件を以下に示す．

+ 提供企業$|\boldsymbol{J}|=100$
  + 提供リソースの時間:要求リソース時間=5:5
    + ただし要求または提供するリソース量は乱数を用いているので正確にこの比率になってはいない．またこの比率はリソースの合計時間の比率であり，各種類のリソースがこの比率になっているわけではない．

### 結果

[@tbl:total-profit]-[@tbl:requesters-total-profit]はそれぞれ，総利益，総提供企業利益，総要求企業利益を表す．[@tbl:requester-total-profit]と[@tbl:provider-total-profit]は，1提供企業あたりの利益，1要求企業あたりの利益を表す．それぞれの表のMethod1(truthful)は，手法Iにおいて，虚偽申告企業がいない場合(正直者のみ)の結果である．

|      | MethodI  | MethodII | Method1(truthful) |
| ---- | -------- | -------- | ----------------- |
| AVE. | 32999.47 | 36977.71 | 38701.22          |
| S.D. | 1337.96  | 1184.12  | 1286.27           |

:Total Profit {#tbl:total-profit}

|      | MethodI  | MethodII | Method1(truthful) |
| ---- | -------- | -------- | ----------------- |
| AVE. | 17061.86 | 15870.95 | 19350.61          |
| S.D. | 962.54   | 1619.98  | 592.06            |

:Total Providers Profit  {#tbl:providers-total-profit}

|      | MethodI  | MethodII | Method1(truthful) |
| ---- | -------- | -------- | ----------------- |
| AVE. | 15937.61 | 5485.53  | 19350.61          |
| S.D. | 719.78   | 1821.90  | 592.06            |

:Total Requesters Profit {#tbl:requesters-total-profit}

|      | MethodI | MethodII | Method1(truthful) |
| ---- | ------- | -------- | ----------------- |
| AVE. | 531.25  | 198.39   | 241.88            |
| S.D. | 23.99   | 20.25    | 7.40              |

:Requester Profit {#tbl:requester-total-profit}

|      | Method1 | Method2 | Method1(truthful) |
| ---- | ------- | ------- | ----------------- |
| AVE. | 531.25  | 182.85  | 645.02            |
| S.D. | 12.03   | 60.73   | 19.74             |

:Provider Profit {#tbl:provider-total-profit}

|      | MethodI | MethodII | MethodI(truthful) |
| ---- | ------- | -------- | ----------------- |
| AVE. | 52.20%  | 60.01%   | 65.50%            |
| S.D. | 1.87%   | 2.95%    | 2.22%             |

:Rate of Availability increase {#tbl:availability}

### 考察

[@tbl:total-profit]において，手法Iの総利益は17061.86であり，手法I（正直者のみ）の総利益は19350.61となった．手法I（正直者のみ）はパレート効率な状態であるので，この結果から手法Iは虚偽申告によって正しくパレート効率な状態を導けないことがわかる．またその結果として，手法IIの総利益36977.71より低い結果となってしまった．

[@tbl:providers-total-profit]により総提供企業利益は，高いものから手法II（正直者のみ）は17061.86，手法Iは19350.61，手法IIは15870.95という結果となった．また[@tbl:requesters-total-profit]より総要求企業利益は，高いものから手法II（正直者のみ）は17061.86，手法Iは15937.61，手法IIは5485.53という結果となった．手法IIが総要求企業利益，総提供企業利益がともに手法I，手法II（正直者のみ）より低いのは，手法IIには誰にも属さない余剰利益が発生してしまうからである．

また手法Iはお互いの取引価格の平均で取引を行うので，総提供企業利益と総要求企業は近い値，また正直者のケースは同じ値となっている．特に[@tbl:requesters-total-profit]において手法Iの両方の場合において．総提供企業利益が手法IIより高いのは，この総要求企業利益を少ない企業数で分配しているからと捉えることができる．手法IIの支払い決定アルゴリズムは，要求企業と平均をとる形になおらず，他の要求企業に支払いが依存しており，予算に対する要求企業数が多くなると，支払いが高くなり，利益が減少する傾向がある．

[@tbl:availability]により稼働率の増加率は手法IIの60.01%の方が，手法Iの52.20%より高くなっておりより提供リソースを有効活用できることがわかる．手法I（正直者のみ）では65.50%という結果となっているので，虚偽申告の影響でリソースの有効活用もできなくなってしまっていることがわかる．

## Case3: 要求リソース量が多いケース

本節では，要求リソース量が多いケースの計算機実験を行う．実験条件を以下に示す．

+ 提供企業$|\boldsymbol{J}|=67$
  + 提供リソースの時間:要求リソース時間=4:6
    + ただし要求または提供するリソース量は乱数を用いているので正確にこの比率になってはいない．またこの比率はリソースの合計時間の比率であり，各種類のリソースがこの比率になっているわけではない．

### 

